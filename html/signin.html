<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <title>Sign in Page</title>
</head>
<style>
    label {
        display: inline-block;
        width: 80px;
    }

    div {
        margin-bottom: 7px;
    }
</style>
<body>
<form name="sign-in-form">
    <h1>SIGN IN</h1>
    <div><label>이메일 </label> <input type="text" name="email"/></div>
    <div><label>비밀번호 </label> <input type="password" name="password"/></div>
    <div><button>로그인</button</div>
</form>
</body>
</html>

<script>
    function logout() {
        setCookie("token", "", 0)
        location.href = "signin.html"
    }

    document.forms[0].addEventListener("submit", async function(e) {
        e.preventDefault()
        const res = await fetch("http://localhost:3000/sign-in", {
            method: "post",
            headers: {"Content-Type": "application/json"},
            credentials: 'include',
            body: JSON.stringify({
                email: this.email.value,
                password: this.password.value
            })
        })
        const data = await res.json()
        console.log("response body", data)
        location.href = "me.html"
    })
</script>